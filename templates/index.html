<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>AI Image Analyzer</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
  <div class="container">
    <h1>AI Image Analyzer</h1>
    <p class="subtitle">
      Upload an image and choose how you want the AI to analyze it.
    </p>

    <form method="post" enctype="multipart/form-data" class="card">
      <div class="form-group">
        <label for="image">Select image file:</label>
        <input type="file" id="image" name="image" accept="image/*" required onchange="previewImage(event)">
        <img id="preview" style="display:none; max-width:100%; margin-top:15px; border-radius:8px;">
      </div>

      <div class="form-group">
        <label>Choose analysis type:</label>
        <div class="options">
          <label>
            <input type="radio" name="task_type" value="objects" checked>
            Object recognition
          </label>

          <label>
            <input type="radio" name="task_type" value="text">
            Text extraction &amp; summary
          </label>

          <label>
            <input type="radio" name="task_type" value="metadata">
            Metadata-style analysis
          </label>

          <label>
            <input type="radio" name="task_type" value="scan">
            Scan main object (like product scanner)
          </label>
        </div>
      </div>

      <button type="submit" class="btn">Analyze</button>
    </form>

    {% if error %}
      <div class="alert alert-error">
        {{ error }}
      </div>
    {% endif %}

    {% if result %}
      <div class="result card">
        <h2>Analysis Result</h2>
        <pre>{{ result }}</pre>
      </div>
    {% endif %}
  </div>
  <script>
function previewImage(event) {
  const img = document.getElementById("preview");
  img.src = URL.createObjectURL(event.target.files[0]);
  img.style.display = "block";
}
</script>

</body>
</html>
